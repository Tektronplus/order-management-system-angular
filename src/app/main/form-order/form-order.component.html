<!-- FORM ORDER -->
<div class="container-form">
	<div>
		<!-- 
            Switch toggle:
            To change form:
                - true: when is take-away order
                - false: when is local order
        -->
		<div class="form-check form-switch">
			<input
				class="form-check-input"
				type="checkbox"
				role="switch"
				id="flexSwitchCheckDefault"
				(change)="setIsTakeAway()" />
			<label
				class="form-check-label"
				for="flexSwitchCheckDefault">
				Take away
			</label>
		</div>

		<!-- 
            The two components that change based on the state of the Boolean "isTakeAway"
        -->
		<div *ngIf="!isTakeAway; else isTakeAwayComponent">
			<!--Local order-->
			<select
				class="form-select"
				(change)="setNumberTable($event)">
				<option selected>Select the table</option>
				<option
					*ngFor="let table of tablesDB"
					value="{{ table }}">
					{{ table }}
				</option>
			</select>
		</div>

		<!--Take-away order-->
		<ng-template #isTakeAwayComponent>
			<div>
				<input
					type="text"
					class="form-control"
					placeholder="First name"
					(change)="setFirstNameClient($event)" />
			</div>
			<div>
				<input
					type="text"
					class="form-control"
					placeholder="Last name"
					(change)="setLastNameClient($event)" />
			</div>
			<div>
				<input
					type="text"
					class="form-control"
					placeholder="Address"
					(change)="setAddressClient($event)" />
			</div>
			<div>
				<input
					type="text"
					class="form-control"
					placeholder="Phone number"
					(change)="setPhoneNumberClient($event)" />
			</div>
		</ng-template>
	</div>

	<hr />

	<div>
		<!--Button to add new pizza in the order-->
		<button
			type="button"
			class="btn btn-primary"
			(click)="addOrderForm()">
			Add
		</button>

		<!--Add new field for pizza information-->
		<div *ngFor="let orderForm of orderPizzaFormDB; let indexOrderForm = index">
			<!--List of pizzas-->
			<select
				class="form-select"
				(change)="changePizza($event, indexOrderForm)">
				<option selected>Select pizza</option>
				<option
					*ngFor="let pizza of pizzasDB"
					value="{{ pizza[1] }}">
					{{ pizza[0] }}
				</option>
			</select>

			<!--Quantity of pizza-->
			<input
				type="number"
				min="1"
				max="10"
				value="1"
				(change)="changeQuantity($event, indexOrderForm)" />

			<!--Delete pizza from order-->
			<button
				type="button"
				class="btn btn-danger"
				(click)="deleteOrderForm(indexOrderForm)">
				Delete
			</button>
		</div>

		<hr />

		<!--Send order button-->
		<button
			type="button"
			class="btn btn-success"
			(click)="sendOrder()">
			Send Order
		</button>
	</div>
</div>

<button (click)="printTest()">TEST BUTTON</button>
